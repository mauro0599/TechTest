@page "/Index"
@using Microsoft.AspNetCore.Authorization;
@using Microsoft.AspNetCore.Components.Authorization;
@attribute [Authorize]
@inject NavigationManager navegacion;


<PageTitle>Index</PageTitle>

<AuthorizeView>
    <Authorized>
        <div class="d-flex justify-content-center">
        <h1>Bienvenido @context.User.Identity!.Name</h1>
        </div>
        <MudDivider />
        <br />
        <div class="d-flex justify-content-center">
        
        &nbsp;
        @{
            if (context.User.Identity!.Name == "admin")
            {
                    <MudPaper Class="d-inline-flex pa-4">
                        <MudButton @onclick="(()=> OnClickProducto())">Productos</MudButton>
                    </MudPaper>
                }
                else
                {
                    <MudPaper Class="d-inline-flex pa-4">
                        No posee acceso para ir a productos!
                    </MudPaper>
                }
            }
        </div>
    </Authorized>
</AuthorizeView>
@code{
    private async Task OnClickProducto()
    {
        navegacion.NavigateTo("/productos");
    }
}